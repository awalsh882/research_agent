<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" version="24.0.0">
  <diagram name="Research Agent Architecture" id="diagram-1">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" page="1" pageWidth="1100" pageHeight="850">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <mxCell id="title" value="Investment Research Agent Architecture"
                style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#333333;fontSize=16;fontStyle=1"
                vertex="1" parent="1">
          <mxGeometry x="300" y="20" width="400" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="user" value="User"
                style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=12;fontStyle=1"
                vertex="1" parent="1">
          <mxGeometry x="475" y="100" width="80" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="cli" value="CLI Interface&#xa;(Interactive / One-shot)"
                style="rounded=1;whiteSpace=wrap;html=1;arcSize=10;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;fontStyle=0"
                vertex="1" parent="1">
          <mxGeometry x="420" y="180" width="180" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="agent-box" value="Agent Core"
                style="swimlane;whiteSpace=wrap;html=1;startSize=30;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=14;fontStyle=1"
                vertex="1" parent="1">
          <mxGeometry x="250" y="270" width="520" height="200" as="geometry"/>
        </mxCell>
        <mxCell id="client" value="ClaudeSDKClient&#xa;(Multi-turn with Memory)"
                style="rounded=1;whiteSpace=wrap;html=1;arcSize=10;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;fontStyle=0"
                vertex="1" parent="1">
          <mxGeometry x="280" y="310" width="180" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="system-prompt" value="SYSTEM_PROMPT&#xa;Investment Analyst Persona"
                style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontStyle=0"
                vertex="1" parent="1">
          <mxGeometry x="500" y="310" width="180" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="mcp-server" value="MCP Server&#xa;(research-tools)"
                style="rounded=1;whiteSpace=wrap;html=1;arcSize=10;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;fontStyle=0"
                vertex="1" parent="1">
          <mxGeometry x="280" y="400" width="180" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="options" value="ClaudeAgentOptions&#xa;max_turns, tools, prompts"
                style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=11;fontStyle=0"
                vertex="1" parent="1">
          <mxGeometry x="500" y="400" width="180" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="tools-box" value="Tools"
                style="swimlane;whiteSpace=wrap;html=1;startSize=30;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=14;fontStyle=1"
                vertex="1" parent="1">
          <mxGeometry x="250" y="510" width="520" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="report-tool" value="@tool&#xa;generate_report"
                style="rounded=1;whiteSpace=wrap;html=1;arcSize=10;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;fontStyle=0"
                vertex="1" parent="1">
          <mxGeometry x="290" y="550" width="140" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="future-tools" value="Future Tools&#xa;(extensible)"
                style="rounded=1;whiteSpace=wrap;html=1;arcSize=10;fillColor=#f5f5f5;strokeColor=#999999;fontSize=11;fontStyle=0"
                vertex="1" parent="1">
          <mxGeometry x="460" y="550" width="140" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="outputs-box" value="Outputs"
                style="swimlane;whiteSpace=wrap;html=1;startSize=30;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1"
                vertex="1" parent="1">
          <mxGeometry x="250" y="650" width="520" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="console" value="Console&#xa;Response"
                style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;fontStyle=0"
                vertex="1" parent="1">
          <mxGeometry x="290" y="685" width="100" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="docx" value=".docx&#xa;Reports"
                style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;fontStyle=0"
                vertex="1" parent="1">
          <mxGeometry x="420" y="685" width="100" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="drawio" value=".drawio&#xa;Diagrams"
                style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;fontStyle=0"
                vertex="1" parent="1">
          <mxGeometry x="550" y="685" width="100" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="c1"
                style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2"
                edge="1" parent="1" source="user" target="cli">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="c2"
                style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2"
                edge="1" parent="1" source="cli" target="client">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="c3"
                style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;dashed=1;dashPattern=8 8"
                edge="1" parent="1" source="system-prompt" target="client">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="c4"
                style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;dashed=1;dashPattern=8 8"
                edge="1" parent="1" source="options" target="client">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="c5"
                style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2"
                edge="1" parent="1" source="client" target="mcp-server">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="c6"
                style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2"
                edge="1" parent="1" source="mcp-server" target="report-tool">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="c7"
                style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2"
                edge="1" parent="1" source="report-tool" target="docx">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="c8"
                style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2"
                edge="1" parent="1" source="client" target="console">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>